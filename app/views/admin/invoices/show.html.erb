<%= render partial: "shared/admin_header" %>
<hr>
<h3 id="invoice-header-<%=@invoice.id%>" class="d-flex justify-content-center">
  Invoice #<%= @invoice.id %></h3>

<div id="invoice-<%=@invoice.id%>">
  <%= form_with url: admin_invoice_path, method: :patch do |form| %>
  <%= form.label :status, "Status:" %>
  <%= form.select :status, options_for_select(["in progress", "cancelled", "completed"], selected: "#{@invoice.status}")%>
  <%= form.submit "Update Invoice Status" %>
  <br>

  Created on:
  <%= @invoice.created_at.strftime('%A, %B %m, %Y') %><br>
  Customer:
  <%= @invoice.customer.first_name %>
  <%= @invoice.customer.last_name%>

</div>
<br>
<h3>Items on this Invoice:</h3><br>
<% @invoice.invoice_items.each do |invoice_item| %>
  <div id="invoice-items-<%=invoice_item.id%>">
    Item Name:
    <%= invoice_item.item.name %><br>
    Item Quantity:
    <%= invoice_item.quantity %><br>
    Item Price:
    <%= invoice_item.item.unit_price %><br>
    Invoice Item Status:
    <%= invoice_item.status %><br>
    Total Revenue: $<%= @invoice.total_revenue %><br>
  <% end %>
</div>

<% end %>